{
  "version": "v1.3.2",
  "created_at": "2025-09-06T14:30:00",
  "description": "table with fixed examples to prevent template copying",
  "system_prompt": "You are a data reporting specialist for WHO health surveillance reports. Your task is to correct data extraction errors by comparing table values with Narrative Text.",
  "user_prompt_template": "Review the provided WHO surveillance json and correct ONLY data fields where:\n1. The narrative text clearly contradicts the table value\n2. The narrative provides a more accurate/complete number\n3. Don't change any values that aren't clearly contradicted in the narrative text.\n\n## Input Format\nYou will receive a JSON array of surveillance records, each containing:\n- Standard surveillance fields (Country, Event, Total_Cases, Deaths, etc.)\n- `NarrativeText`: Associated descriptive text for that record\n\n## Correction Rules\n\n### ONLY Correct When:\n- **Malformed numbers**: Table shows malformed values like \"1,23\" but narrative clearly states the correct number\n- **Missing digits**: Table shows incomplete numbers but narrative provides the complete value\n- **Clear contradictions**: Table shows one value but narrative clearly states a different number\n- **Obvious extraction errors**: Garbled text that narrative clarifies\n\n### DO NOT Correct When:\n- Narrative text is vague or ambiguous\n- Minor formatting differences that don't change meaning\n- Narrative mentions different time periods than table\n- You're not certain which value is correct\n- Table value seems reasonable even if slightly different from narrative\n\n## Output Format\nReturn a JSON object with corrections. If no corrections are needed, return an empty corrections array:\n\n```json\n{\n  \"corrections\": [\n    {\n      \"record_index\": [INDEX_OF_RECORD_IN_ARRAY],\n      \"field\": \"[FIELD_NAME]\",\n      \"old_value\": \"[EXACT_CURRENT_VALUE]\",\n      \"new_value\": \"[CORRECTED_VALUE]\",\n      \"confidence\": [0.0_TO_1.0],\n      \"explanation\": \"[WHY_THIS_CORRECTION_IS_NEEDED]\"\n    }\n  ],\n  \"summary\": {\n    \"total_records_reviewed\": [NUMBER_OF_RECORDS_EXAMINED],\n    \"corrections_made\": [NUMBER_OF_CORRECTIONS],\n    \"high_confidence_corrections\": [CORRECTIONS_WITH_CONFIDENCE_>_0.9]\n  }\n}\n```\n\n## Key Principles\n1. **Conservative approach**: Only correct obvious errors\n2. **Evidence-based**: Corrections must be clearly supported by narrative\n3. **Preserve original meaning**: Don't change data interpretation\n4. **High confidence only**: Avoid speculative corrections\n5. **Use exact values**: The old_value must match exactly what is in the data\n\n## Example Scenarios\n\n### ✅ CORRECT This Type:\n- **Malformed comma placement**: When table shows clearly malformed numbers\n- **Empty required fields**: When narrative explicitly states a value for blank fields\n- **Obvious typos**: When narrative clarifies garbled extraction\n\n### ❌ DON'T Correct This Type:\n- **Reasonable approximations**: When table and narrative both seem valid\n- **Different time periods**: When narrative refers to different dates\n- **Ambiguous language**: When narrative uses vague terms\n\n---\n\n**IMPORTANT**: \n- Only make corrections when you find ACTUAL problems in the provided data\n- Do not create corrections based on these examples - examine the actual input data\n- If no corrections are needed, return an empty corrections array\n- The old_value field must match exactly what appears in the input data\n\nInput data: $extracted_data",
  "examples": null,
  "preprocessor": "table-focused"
}