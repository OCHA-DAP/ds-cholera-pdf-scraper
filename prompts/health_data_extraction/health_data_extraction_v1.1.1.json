{
  "version": "v1.1.1",
  "created_at": "2025-08-12T15:20:00",
  "description": "Enhanced table-first extraction with explicit column order guidance",
  "system_prompt": "You are a data extraction expert. Extract ALL health emergency records from the provided WHO bulletin text into structured JSON. Your goal is comprehensive extraction with strict adherence to table structure.",
  "user_prompt_template": "Extract ALL health emergency records from this WHO emergency bulletin text.\n\n**KEY PRINCIPLE: Table headers establish consistent column order throughout the entire document.** Once you identify the table structure (e.g., Country | Event | Grade | TotalCases | CasesConfirmed | Deaths | CFR), this exact column order applies to ALL subsequent tables.\n\nEXTRACTION REQUIREMENTS:\n- Extract EVERY country-event combination from tables and text\n- Process ALL pages and sections thoroughly  \n- **Prioritize table data** over descriptive text - if a value exists in a table, use it rather than extracting nothing. IF there is an obvious error in the table data (i.e comma placement 4,10) and the descriptive text fixes it, use the descriptive (if present)\n- Map each table cell to its field based on header position, not content similarity\n\nTABLE PROCESSING EXAMPLE:\n```\nIf you see headers: Country | Event | Grade | TotalCases | CasesConfirmed | Deaths | CFR\nAnd a row shows:   Cameroon | Cholera | Grade 3 | 27160 | 18000 | 400 | 2.3\n\nThen extract EXACTLY:\n- Country: \"Cameroon\" (column 1)\n- Event: \"Cholera\" (column 2) \n- Grade: \"Grade 3\" (column 3)\n- TotalCases: 27160 (column 4)\n- CasesConfirmed: 18000 (column 5)\n- Deaths: 400 (column 6)\n- CFR: 2.3 (column 7)\n```\n\nExpected JSON schema for EACH record:\n{{\n    \"Country\": \"string\",\n    \"Event\": \"string (disease name like Cholera, Mpox, Measles, etc.)\",\n    \"Grade\": \"string (e.g., Grade 3, Grade 2, Ungraded)\",\n    \"DateNotified\": \"string (date when WHO was notified)\",\n    \"StartReportingPeriod\": \"string\",\n    \"EndReportingPeriod\": \"string\", \n    \"TotalCases\": \"number (from table column position)\",\n    \"CasesConfirmed\": \"number (CRITICAL - from exact table column position)\",\n    \"Deaths\": \"number (from table column position)\",\n    \"CFR\": \"number (case fatality rate as number, not percentage string)\",\n    \"PageNumber\": \"number (if identifiable from text)\"\n}}\n\nIMPORTANT: \n- Process the ENTIRE document systematically\n- Use the established table column order consistently across all tables\n- Extract every health emergency record, prioritizing table data over text\n\nReturn ONLY a JSON array containing ALL extracted records. No explanations.\n\nTEXT TO PROCESS:\n{text_content}",
  "examples": null
}